'use strict';
module.exports = function () {
    var dependencies = {};
    var factories = {};
    var serviceLocator = {};
    serviceLocator.factory = function (name, factory) {
        factories[name] = factory;
    };
    serviceLocator.register = function (name, instance) {
        dependencies[name] = instance;
    };
    serviceLocator.get = function (name) {
        if (!dependencies[name]) {
            var factory = factories[name];
            dependencies[name] = factory && factory(serviceLocator);
            if (!dependencies[name]) {
                throw new Error('Cannot find module: ' + name);
            }
        }
        return dependencies[name];
    };
    return serviceLocator;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsdWdpbnMvc2VydmljZS1sb2NhdG9yL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQztBQUNiLE1BQU0sQ0FBQyxPQUFPLEdBQUc7SUFDZixJQUFJLFlBQVksR0FBRyxFQUFFLENBQUM7SUFDdEIsSUFBSSxTQUFTLEdBQUcsRUFBRSxDQUFDO0lBQ25CLElBQUksY0FBYyxHQUFHLEVBQUUsQ0FBQztJQUV4QixjQUFjLENBQUMsT0FBTyxHQUFHLFVBQVMsSUFBSSxFQUFFLE9BQU87UUFDN0MsU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQztJQUM1QixDQUFDLENBQUM7SUFFRixjQUFjLENBQUMsUUFBUSxHQUFHLFVBQVMsSUFBSSxFQUFFLFFBQVE7UUFDL0MsWUFBWSxDQUFDLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQztJQUNoQyxDQUFDLENBQUM7SUFDRixjQUFjLENBQUMsR0FBRyxHQUFHLFVBQVMsSUFBSTtRQUNoQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEIsSUFBSSxPQUFPLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzlCLFlBQVksQ0FBQyxJQUFJLENBQUMsR0FBRyxPQUFPLElBQUksT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQ3hELEVBQUUsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDeEIsTUFBTSxJQUFJLEtBQUssQ0FBQyxzQkFBc0IsR0FBRyxJQUFJLENBQUMsQ0FBQztZQUNqRCxDQUFDO1FBQ0gsQ0FBQztRQUNELE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDNUIsQ0FBQyxDQUFDO0lBRUYsTUFBTSxDQUFDLGNBQWMsQ0FBQztBQUN4QixDQUFDLENBQUMiLCJmaWxlIjoicGx1Z2lucy9zZXJ2aWNlLWxvY2F0b3IvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZGVwZW5kZW5jaWVzID0ge307XG4gIHZhciBmYWN0b3JpZXMgPSB7fTtcbiAgdmFyIHNlcnZpY2VMb2NhdG9yID0ge307XG5cbiAgc2VydmljZUxvY2F0b3IuZmFjdG9yeSA9IGZ1bmN0aW9uKG5hbWUsIGZhY3RvcnkpIHsgLy9bMV1cbiAgICBmYWN0b3JpZXNbbmFtZV0gPSBmYWN0b3J5O1xuICB9O1xuXG4gIHNlcnZpY2VMb2NhdG9yLnJlZ2lzdGVyID0gZnVuY3Rpb24obmFtZSwgaW5zdGFuY2UpIHsgLy9bMl1cbiAgICBkZXBlbmRlbmNpZXNbbmFtZV0gPSBpbnN0YW5jZTtcbiAgfTtcbiAgc2VydmljZUxvY2F0b3IuZ2V0ID0gZnVuY3Rpb24obmFtZSkgeyAvL1szXVxuICAgIGlmICghZGVwZW5kZW5jaWVzW25hbWVdKSB7XG4gICAgICB2YXIgZmFjdG9yeSA9IGZhY3Rvcmllc1tuYW1lXTtcbiAgICAgIGRlcGVuZGVuY2llc1tuYW1lXSA9IGZhY3RvcnkgJiYgZmFjdG9yeShzZXJ2aWNlTG9jYXRvcik7XG4gICAgICBpZiAoIWRlcGVuZGVuY2llc1tuYW1lXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmaW5kIG1vZHVsZTogJyArIG5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGVwZW5kZW5jaWVzW25hbWVdO1xuICB9O1xuXG4gIHJldHVybiBzZXJ2aWNlTG9jYXRvcjtcbn07XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
